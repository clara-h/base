{"remainingRequest":"/Users/aa/Desktop/project/base/node_modules/_vue-loader@15.10.1@vue-loader/lib/index.js??vue-loader-options!/Users/aa/Desktop/project/base/src/components/main/RedRain.vue?vue&type=style&index=0&id=32c1e9df&lang=css&","dependencies":[{"path":"/Users/aa/Desktop/project/base/src/components/main/RedRain.vue","mtime":1668581944016},{"path":"/Users/aa/Desktop/project/base/node_modules/_css-loader@1.0.1@css-loader/index.js","mtime":499162500000},{"path":"/Users/aa/Desktop/project/base/node_modules/_vue-loader@15.10.1@vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/aa/Desktop/project/base/node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/aa/Desktop/project/base/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/aa/Desktop/project/base/node_modules/_vue-loader@15.10.1@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n@keyframes redImg {\n  0% {\n    top:0;\n  }\n  100% {\n    top: 100%;\n  }\n}\n.redBox {\n  position: absolute;\n  /* opacity: 0;*/\n  z-index: 10000;\n  animation: redImg 4s infinite linear;\n  -webkit-animation: redImg 4s infinite linear;\n  -moz-animation: redImg 4s infinite linear;\n  -ms-animation: redImg 4s infinite linear;\n  -o-animation: redImg 4s infinite linear;\n}\n\n.redBox {\n  position: fixed;\n}\nimg{\n  display: block;\n  width: 100px;\n  height: auto;\n}\n",{"version":3,"sources":["RedRain.vue"],"names":[],"mappings":";AAoFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"RedRain.vue","sourceRoot":"src/components/main","sourcesContent":["<template>\n  <div class=\"\">\n    <a @click=\"start\">点击开始</a>\n    <div id=\"redzone\">\n    </div>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: \"RedRain\",\n  data() {\n    return {\n      clickNum: 0,\n      animationtime: null,\n      countDownTime: null,\n    }\n  },\n  methods:{\n    addBao:function(left, height, src) {\n      let div = document.createElement(\"div\")\n      let img = document.createElement(\"img\")\n      div.appendChild(img)\n      img.className = \"roll\"\n      img.src = src\n      div.style.left = left + \"px\"\n      div.style.height = height + \"px\"\n      div.classList.add(\"redBox\")\n      document.getElementById(\"redzone\").appendChild(div);\n      let _this = this\n      div.addEventListener('click', function (event) {\n        _this.ckickRed(event)\n      })\n      setTimeout(function() {\n        document.getElementById(\"redzone\").removeChild(div);\n      }, 4000)\n    },\n    ckickRed(event) {\n      console.log(event)\n      this.clickNum ++\n      console.log('点击到红包了:' + this.clickNum)\n    },\n    start() {\n      let _this = this;\n      if (this.animationtime) {\n        clearTimeout(this.animationtime)\n        this.animationtime = null\n      }\n      // 开始倒计时\n      this.countDown(10)\n      this.animationtime = setInterval(function(){\n        let left = Math.random() * (document.body.scrollWidth - 100)\n        let height = Math.random() * document.body.scrollHeight\n        let src = require('@/assets/img/gift.png')\n        _this.addBao(left, height, src);\n      }, 500);\n    },\n    // 倒计时\n    countDown(time) {\n      this.countDownTime && clearTimeout(this.countDownTime)\n      let num = 0\n      let _this = this\n      this.countDownTime = setInterval(function(){\n        num++\n        console.log(num)\n        if (num >= time) {\n          clearTimeout(_this.countDownTime)\n          _this.end()\n        }\n      }, 1000);\n    },\n    end() {\n      this.animationtime && clearTimeout(this.animationtime)\n      this.animationtime = null\n    }\n  },\n  mounted(){\n\n  },\n}\n</script>\n\n<style>\n@keyframes redImg {\n  0% {\n    top:0;\n  }\n  100% {\n    top: 100%;\n  }\n}\n.redBox {\n  position: absolute;\n  /* opacity: 0;*/\n  z-index: 10000;\n  animation: redImg 4s infinite linear;\n  -webkit-animation: redImg 4s infinite linear;\n  -moz-animation: redImg 4s infinite linear;\n  -ms-animation: redImg 4s infinite linear;\n  -o-animation: redImg 4s infinite linear;\n}\n\n.redBox {\n  position: fixed;\n}\nimg{\n  display: block;\n  width: 100px;\n  height: auto;\n}\n</style>\n"]}]}